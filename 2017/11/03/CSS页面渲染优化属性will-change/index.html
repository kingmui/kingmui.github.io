<!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content=#222><meta name=generator content="Hexo 5.4.0"><link rel=apple-touch-icon sizes=180x180 href=https://cdn.kingmui.cn/avatar.jpg><link rel=icon type=image/png sizes=32x32 href=https://cdn.kingmui.cn/avatar.jpg><link rel=icon type=image/png sizes=16x16 href=https://cdn.kingmui.cn/avatar.jpg><link rel=mask-icon href=https://cdn.kingmui.cn/avatar.jpg color=#222><meta name=google-site-verification content=sNI58_0qBlj048P3M9VIK0edTYQ9zf2quRwRS7aNr2w><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin=anonymous><script class=next-config data-name=main type=application/json>{"hostname":"www.kingmui.cn","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.2","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta name=description content="前面的话当我们通过某些行为（点击、移动或滚动）触发页面进行大面积绘制的时候，浏览器往往是没有准备的，只能被动使用CPU去计算与重绘，由于没有事先准备，应付渲染够呛，于是掉帧、卡顿。而 will-change 则是真正的行为触发之前告诉浏览器：“浏览器同学，我待会儿就要变形了，你心理和生理上都准备准备”。于是乎，浏览器同学把GPU给拉上了，从容应对即将到来的变形。而CSS属性 will-change"><meta property=og:type content=article><meta property=og:title content=CSS页面渲染优化属性will-change><meta property=og:url content=http://www.kingmui.cn/2017/11/03/CSS%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96%E5%B1%9E%E6%80%A7will-change/index.html><meta property=og:site_name content="King Mui"><meta property=og:description content="前面的话当我们通过某些行为（点击、移动或滚动）触发页面进行大面积绘制的时候，浏览器往往是没有准备的，只能被动使用CPU去计算与重绘，由于没有事先准备，应付渲染够呛，于是掉帧、卡顿。而 will-change 则是真正的行为触发之前告诉浏览器：“浏览器同学，我待会儿就要变形了，你心理和生理上都准备准备”。于是乎，浏览器同学把GPU给拉上了，从容应对即将到来的变形。而CSS属性 will-change"><meta property=og:locale content=zh_CN><meta property=article:published_time content=2017-11-03T03:02:55.000Z><meta property=article:modified_time content=2022-04-15T03:43:21.836Z><meta property=article:author content="King Mui"><meta property=article:tag content=CSS3><meta name=twitter:card content=summary><link rel=canonical href=http://www.kingmui.cn/2017/11/03/CSS%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96%E5%B1%9E%E6%80%A7will-change/ ><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://www.kingmui.cn/2017/11/03/CSS%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96%E5%B1%9E%E6%80%A7will-change/","path":"2017/11/03/CSS页面渲染优化属性will-change/","title":"CSS页面渲染优化属性will-change"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>CSS页面渲染优化属性will-change | King Mui</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-116303188-1"></script><script class=next-config data-name=google_analytics type=application/json>{"tracking_id":"UA-116303188-1","only_pageview":false}</script><script src=/js/third-party/analytics/google-analytics.js></script><script src=/js/third-party/analytics/baidu-analytics.js></script><script async src=https://hm.baidu.com/hm.js?65b6c252e87243b9ea8427abb6b8cf3e></script><noscript><link rel=stylesheet href=/css/noscript.css></noscript><link rel=alternate href=/atom.xml title="King Mui" type=application/atom+xml></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label=切换导航栏 role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><p class=site-title>King Mui</p><i class=logo-line></i></a><p class=site-subtitle itemprop=description>用艺术的眼光发现技术的美</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-rss"><a href=/atom.xml rel=section><i class="fa fa-rss fa-fw"></i>RSS</a></li><li class="menu-item menu-item-search"><a role=button class=popup-trigger><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%89%8D%E9%9D%A2%E7%9A%84%E8%AF%9D><span class=nav-number>1.</span> <span class=nav-text>前面的话</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%87%86%E5%A4%87%E7%9F%A5%E8%AF%86><span class=nav-number>2.</span> <span class=nav-text>准备知识</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%AF%AD%E6%B3%95><span class=nav-number>3.</span> <span class=nav-text>语法</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#will-change><span class=nav-number>3.1.</span> <span class=nav-text>will-change</span></a></li></ol></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%BD%BF%E7%94%A8><span class=nav-number>4.</span> <span class=nav-text>使用</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9><span class=nav-number>5.</span> <span class=nav-text>注意事项</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt="King Mui" src=https://cdn.kingmui.cn/avatar.jpg><p class=site-author-name itemprop=name>King Mui</p><div class=site-description itemprop=description>生命不息，学习不止</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/ ><span class=site-state-item-count>26</span> <span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/ ><span class=site-state-item-count>18</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class=links-of-author-item><span class=exturl data-url="aHR0cHM6Ly9naXRodWIuY29tL2tpbmdtdWk=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kingmui"><i class="fab fa-github-alt fa-fw"></i></span></span><span class=links-of-author-item><span class=exturl data-url=bWFpbHRvOmtpbmdtdWkuZGV2QG91dGxvb2suY29t title="E-Mail → mailto:kingmui.dev@outlook.com"><i class="fa fa-envelope fa-fw"></i></span></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-link fa-fw"></i> 友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cHM6Ly9vdmVycmVhY3RlZC5pby8=" title=https:&#x2F;&#x2F;overreacted.io&#x2F;>Dan Abramov</span></li><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cHM6Ly9qYWtlYXJjaGliYWxkLmNvbS8=" title=https:&#x2F;&#x2F;jakearchibald.com&#x2F;>Jake Archibald</span></li><li class=links-of-blogroll-item><span class=exturl data-url=aHR0cHM6Ly93d3cucnVhbnlpZmVuZy5jb20v title=https:&#x2F;&#x2F;www.ruanyifeng.com&#x2F;>阮一峰</span></li><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cHM6Ly9naXRodWIuY29tL21xeXFpbmdmZW5nL0Jsb2c=" title=https:&#x2F;&#x2F;github.com&#x2F;mqyqingfeng&#x2F;Blog>冴羽</span></li></ul></div></div></div><div class="back-to-top animated" role=button aria-label=返回顶部><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div class=sidebar-dimmer></div></header><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang=zh-CN><link itemprop=mainEntityOfPage href=http://www.kingmui.cn/2017/11/03/CSS%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96%E5%B1%9E%E6%80%A7will-change/ ><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=https://cdn.kingmui.cn/avatar.jpg><meta itemprop=name content="King Mui"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="King Mui"><meta itemprop=description content=生命不息，学习不止></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="CSS页面渲染优化属性will-change | King Mui"><meta itemprop=description content></span><header class=post-header><h1 class=post-title itemprop="name headline">CSS页面渲染优化属性will-change</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i></span> <span class=post-meta-item-text>发表于</span> <time title="创建时间：2017-11-03 11:02:55" itemprop="dateCreated datePublished" datetime=2017-11-03T11:02:55+08:00>2017-11-03</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i></span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2022-04-15 11:43:21" itemprop=dateModified datetime=2022-04-15T11:43:21+08:00>2022-04-15</time></span><span class=post-meta-item title=阅读次数 id=busuanzi_container_page_pv><span class=post-meta-item-icon><i class="far fa-eye"></i></span> <span class=post-meta-item-text>阅读次数：</span><span id=busuanzi_value_page_pv></span></span><span class=post-meta-break></span><span class=post-meta-item title=本文字数><span class=post-meta-item-icon><i class="far fa-file-word"></i></span> <span class=post-meta-item-text>本文字数：</span> <span>3k</span></span><span class=post-meta-item title=阅读时长><span class=post-meta-item-icon><i class="far fa-clock"></i></span> <span class=post-meta-item-text>阅读时长 &asymp;</span> <span>3 分钟</span></span></div></div></header><div class=post-body itemprop=articleBody><h3 id=前面的话><a href=#前面的话 class=headerlink title=前面的话></a>前面的话</h3><p>当我们通过某些行为（点击、移动或滚动）触发页面进行大面积绘制的时候，浏览器往往是没有准备的，只能被动使用CPU去计算与重绘，由于没有事先准备，应付渲染够呛，于是掉帧、卡顿。而 <code>will-change</code> 则是真正的行为触发之前告诉浏览器：“浏览器同学，我待会儿就要变形了，你心理和生理上都准备准备”。于是乎，浏览器同学把GPU给拉上了，从容应对即将到来的变形。而CSS属性 will-change 为web开发者提供了一种告知浏览器该元素会有哪些变化的方法，这样浏览器可以在元素属性真正发生变化之前提前做好对应的优化准备工作。 这种优化可以将一部分复杂的计算工作提前准备好，使页面的反应更为快速灵敏。本文将介绍CSS属性 will-change 。</p><h3 id=准备知识><a href=#准备知识 class=headerlink title=准备知识></a>准备知识</h3><p>GPU是图形处理器，专门处理和绘制图形相关的硬件。GPU是专为执行复杂的数学和几何计算而设计的，使得CPU从图形处理的任务中解放出来，可以执行其他更多的系统任务。</p><p>所谓硬件加速，就是在计算机中把计算量非常大的工作分配给专门的硬件来处理，减轻CPU的工作量。</p><p>CSS的动画、变形、渐变并不会自动触发GPU加速，而是使用浏览器稍慢的软件渲染引擎。在 <code>transition</code> 、 <code>transform</code> 和 <code>animation</code> 的世界里，应该卸载进程到GPU以加速速度。只有3D变形会有自己的layer，而2D变形则不会。</p><span id=more></span><p>【Hack】<br>我们可能听说过，3D transform会启用GPU加速<sup>①</sup>，例如 <code>translate3D</code> ， <code>scaleZ</code> 之类，但是，这些属性业界往往称之为 <code>hack</code> 加速法。我们实际上不需要 <code>z</code> 轴的变化，但是还是假模假样地声明了，欺骗浏览器，这其实是一种不人道的做法。</p><div class="note info"><p>① GPU 即图形处理器，是处理和绘制图形相关的硬件。GPU 是专为执行复杂的数学和几何计算而设计的，可以让 CPU 从图形处理的任务中解放出来，从而执行其他更多的系统任务，例如，页面的计算与重绘。</p></div><h3 id=语法><a href=#语法 class=headerlink title=语法></a>语法</h3><h4 id=will-change><a href=#will-change class=headerlink title=will-change></a>will-change</h4><p>功能: 提前通知浏览器元素将要做什么动画，让浏览器提前准备合适的优化设置值： <code>auto | &lt;animateable-feature&gt;</code></p><ul><li>初始值：auto</li><li>适用元素：所有元素</li><li>继承性：无</li><li><span class=exturl data-url="aHR0cHM6Ly9jYW5pdXNlLmNvbS93aWxsLWNoYW5nZS9lbWJlZA==">兼容性<i class="fa fa-external-link-alt"></i></span>：Chrome36+、Firefox36+、Opera24+、Android37+、</li></ul><p><code>auto</code></p><ul><li>表示没有特别指定哪些属性会变化，浏览器需要自己去猜，然后使用浏览器经常使用的一些常规方法优化。</li></ul><p><code>&lt;animateable-feature&gt;</code> 可以是以下值：<br><code>scroll-position</code></p><ul><li>表示开发者希望在不久后改变滚动条的位置或者使之产生动画。</li></ul><p><code>contents</code></p><ul><li>表示开发者希望在不久后改变元素内容中的某些东西，或者使它们产生动画。</li></ul><p><code>&lt;custom-ident&gt;</code></p><ul><li>表示开发者希望在不久后改变指定的属性名或者使之产生动画。如果属性名是简写，则代表所有与之对应的简写或者全写的属性。</li></ul><h3 id=使用><a href=#使用 class=headerlink title=使用></a>使用</h3><p>【使用hover】<br>不要这样直接写在默认状态中，因为<code>will-change</code>会一直挂着：</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line><span class=selector-class>.will-change</span> &#123;</span><br><span class=line>  will-change: transform;</span><br><span class=line>  <span class=attribute>transition</span>: transform <span class=number>0.3s</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.will-change</span><span class=selector-pseudo>:hover</span> &#123;</span><br><span class=line>  <span class=attribute>transform</span>: <span class=built_in>scale</span>(<span class=number>1.5</span>);</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><p>可以让父元素hover的时候，声明 <code>will-change</code> ，这样，移出的时候就会自动 <code>remove</code> ，触发的范围基本上是有效元素范围。</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre></td><td class=code><pre><span class=line><span class=selector-class>.will-change-parent</span><span class=selector-pseudo>:hover</span> <span class=selector-class>.will-change</span> &#123;</span><br><span class=line>  will-change: transform;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.will-change</span> &#123;</span><br><span class=line>  <span class=attribute>transition</span>: transform <span class=number>0.3s</span>;</span><br><span class=line>&#125;</span><br><span class=line><span class=selector-class>.will-change</span><span class=selector-pseudo>:hover</span> &#123;</span><br><span class=line>  <span class=attribute>transform</span>: <span class=built_in>scale</span>(<span class=number>1.5</span>);</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><p>【使用javascript脚本】</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class=selector-class>.sidebar</span> &#123;</span><br><span class=line>  will-change: transform;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><p>以上示例在样式表中直接添加了 <code>will-change</code> 属性，会导致浏览器将对应的优化工作一直保存在内存中，这其实是不必要的，前面我们已经看过为什么应该避免这样的做法。下面是另一个展示如何使用脚本正确地应用 <code>will-change</code> 属性的示例，在大部分的场景中，你都应该这样做。</p><figure class="highlight javascript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>var</span> el = <span class=built_in>document</span>.getElementById(<span class=string>&#x27;element&#x27;</span>);</span><br><span class=line></span><br><span class=line><span class=comment>// 当鼠标移动到该元素上时给该元素设置 will-change 属性</span></span><br><span class=line>el.addEventListener(<span class=string>&#x27;mouseenter&#x27;</span>, hintBrowser);</span><br><span class=line><span class=comment>// 当 CSS 动画结束后清除 will-change 属性</span></span><br><span class=line>el.addEventListener(<span class=string>&#x27;animationEnd&#x27;</span>, removeHint);</span><br><span class=line></span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>hintBrowser</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>  <span class=comment>// 填写上那些你知道的，会在 CSS 动画中发生改变的 CSS 属性名们</span></span><br><span class=line>  <span class=built_in>this</span>.style.willChange = <span class=string>&#x27;transform, opacity&#x27;</span>;</span><br><span class=line>&#125;</span><br><span class=line></span><br><span class=line><span class=function><span class=keyword>function</span> <span class=title>removeHint</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>  <span class=built_in>this</span>.style.willChange = <span class=string>&#x27;auto&#x27;</span>;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><p>【直接使用】</p><p>但是，如果某个应用在按下键盘的时候会翻页，比如相册或者幻灯片一类的，它的页面很大很复杂，此时在样式表中写上 <code>will-change</code> 是合适的。这会使浏览器提前准备好过渡动画，当键盘按下的时候就能立即看到灵活轻快的动画。</p><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class=selector-class>.slide</span> &#123;</span><br><span class=line>  will-change: transform;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><h3 id=注意事项><a href=#注意事项 class=headerlink title=注意事项></a>注意事项</h3><ol><li><strong>不要将 will-change 应用到太多元素上</strong>：浏览器已经尽力尝试去优化一切可以优化的东西了。有一些更强力的优化，如果与 <code>will-change</code> 结合在一起的话，有可能会消耗很多机器资源，如果过度使用的话，可能导致页面响应缓慢或者消耗非常多的资源。</li><li><strong>有节制地使用：</strong>通常，当元素恢复到初始状态时，浏览器会丢弃掉之前做的优化工作。但是如果直接在样式表中显式声明了 <code>will-change</code> 属性，则表示目标元素可能会经常变化，浏览器会将优化工作保存得比之前更久。所以最佳实践是<mark class="label info">当元素变化之前和之后通过脚本来切换</mark> <code>will-change</code> <mark class="label info">的值</mark>。</li><li><strong>不要过早应用 will-change 优化：</strong>如果你的页面在性能方面没什么问题，则不要添加 <code>will-change</code> 属性来榨取一丁点的速度。 <code>will-change</code> 的设计初衷是作为最后的优化手段，用来尝试解决现有的性能问题。它不应该被用来预防性能问题。<mark class="label info">过度使用</mark> <code>will-change</code> <mark class="label info">会导致大量的内存占用，并会导致更复杂的渲染过程</mark>，因为浏览器会试图准备可能存在的变化过程。这会导致更严重的性能问题。</li><li><strong>给它足够的工作时间：</strong>这个属性是用来让页面开发者告知浏览器哪些属性可能会变化的。然后浏览器可以选择在变化发生前提前去做一些优化工作。所以给浏览器一点时间去真正做这些优化工作是非常重要的。使用时需要尝试去找到一些方法提前一定时间获知元素可能发生的变化，然后为它加上 <code>will-change</code> 属性。</li></ol></div><footer class=post-footer><div class=post-tags><a href=/tags/CSS3/ rel=tag><i class="fa fa-tag"></i> CSS3</a></div><div class=post-nav><div class=post-nav-item><a href=/2017/11/03/HTML5Web%E5%AD%98%E5%82%A8/ rel=prev title="HTML5 Web 存储"><i class="fa fa-chevron-left"></i> HTML5 Web 存储</a></div><div class=post-nav-item><a href=/2018/01/19/JavaScript%E5%B9%B6%E9%9D%9E%E6%89%80%E6%9C%89%E7%9A%84%E4%B8%9C%E8%A5%BF%E9%83%BD%E6%98%AF%E5%AF%B9%E8%B1%A1/ rel=next title=JavaScript并非所有的东西都是对象>JavaScript并非所有的东西都是对象<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class=comments id=disqus_thread><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></main><footer class=footer><div class=footer-inner><div class=beian><span class=exturl data-url="aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==">浙ICP备18010341号-1</span></div><div class=copyright>&copy; <span itemprop=copyrightYear>2022</span><span class=with-love><i class="fa fa-heart"></i></span> <span class=author itemprop=copyrightHolder>KINGMUI</span></div><div class=wordcount><span class=post-meta-item><span class=post-meta-item-icon><i class="fa fa-chart-line"></i></span> <span title=站点总字数>137k</span></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fa fa-coffee"></i></span> <span title=站点阅读时长>2:04</span></span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv><span class=post-meta-item-icon><i class="fa fa-user"></i></span><span class=site-uv title=总访客量><span id=busuanzi_value_site_uv></span></span></span><span class=post-meta-item id=busuanzi_container_site_pv><span class=post-meta-item-icon><i class="fa fa-eye"></i></span><span class=site-pv title=总访问量><span id=busuanzi_value_site_pv></span></span></span></div></div></footer><script size=300 alpha=0.6 zindex=-1 src=https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js></script><script src=https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin=anonymous></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/next-boot.js></script><script src=https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin=anonymous></script><script src=/js/third-party/search/local-search.js></script><script src=//code.tidio.co/2mlfx8hyeje2cy9cft6rpturddkkzkon.js></script><script src=/js/third-party/chat/tidio.js></script><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script class=next-config data-name=disqus type=application/json>{"enable":true,"shortname":"kingmui","count":false,"i18n":{"disqus":"disqus"}}</script><script src=/js/third-party/comments/disqus.js></script></body></html>