<!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content=#222><meta name=generator content="Hexo 5.4.0"><link rel=apple-touch-icon sizes=180x180 href=https://cdn.kingmui.cn/avatar.jpg><link rel=icon type=image/png sizes=32x32 href=https://cdn.kingmui.cn/avatar.jpg><link rel=icon type=image/png sizes=16x16 href=https://cdn.kingmui.cn/avatar.jpg><link rel=mask-icon href=https://cdn.kingmui.cn/avatar.jpg color=#222><meta name=google-site-verification content=sNI58_0qBlj048P3M9VIK0edTYQ9zf2quRwRS7aNr2w><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin=anonymous><script class=next-config data-name=main type=application/json>{"hostname":"www.kingmui.cn","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.2","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta name=description content="SEO 优化给你的 hexo 站点添加 sitemap 网站地图 安装 hexo 的 sitemap 网站地图生成插件  12npm install hexo-generator-sitemap --savenpm install hexo-generator-baidu-sitemap --save   在你的 hexo 站点的 _config.yml 文件中添加以下代码  12345# hex"><meta property=og:type content=article><meta property=og:title content=Hexo个性化配置><meta property=og:url content=http://www.kingmui.cn/2016/11/24/Hexo%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/index.html><meta property=og:site_name content="King Mui"><meta property=og:description content="SEO 优化给你的 hexo 站点添加 sitemap 网站地图 安装 hexo 的 sitemap 网站地图生成插件  12npm install hexo-generator-sitemap --savenpm install hexo-generator-baidu-sitemap --save   在你的 hexo 站点的 _config.yml 文件中添加以下代码  12345# hex"><meta property=og:locale content=zh_CN><meta property=article:published_time content=2016-11-24T11:17:46.000Z><meta property=article:modified_time content=2022-04-15T03:43:21.838Z><meta property=article:author content="King Mui"><meta property=article:tag content=Hexo><meta name=twitter:card content=summary><link rel=canonical href=http://www.kingmui.cn/2016/11/24/Hexo%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/ ><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://www.kingmui.cn/2016/11/24/Hexo%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/","path":"2016/11/24/Hexo个性化配置/","title":"Hexo个性化配置"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Hexo个性化配置 | King Mui</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-116303188-1"></script><script class=next-config data-name=google_analytics type=application/json>{"tracking_id":"UA-116303188-1","only_pageview":false}</script><script src=/js/third-party/analytics/google-analytics.js></script><script src=/js/third-party/analytics/baidu-analytics.js></script><script async src=https://hm.baidu.com/hm.js?65b6c252e87243b9ea8427abb6b8cf3e></script><noscript><link rel=stylesheet href=/css/noscript.css></noscript><link rel=alternate href=/atom.xml title="King Mui" type=application/atom+xml></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label=切换导航栏 role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><p class=site-title>King Mui</p><i class=logo-line></i></a><p class=site-subtitle itemprop=description>用艺术的眼光发现技术的美</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-rss"><a href=/atom.xml rel=section><i class="fa fa-rss fa-fw"></i>RSS</a></li><li class="menu-item menu-item-search"><a role=button class=popup-trigger><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-3"><a class=nav-link href=#SEO-%E4%BC%98%E5%8C%96><span class=nav-number>1.</span> <span class=nav-text>SEO 优化</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%BB%99%E4%BD%A0%E7%9A%84-hexo-%E7%AB%99%E7%82%B9%E6%B7%BB%E5%8A%A0-sitemap-%E7%BD%91%E7%AB%99%E5%9C%B0%E5%9B%BE><span class=nav-number>1.1.</span> <span class=nav-text>给你的 hexo 站点添加 sitemap 网站地图</span></a></li><li class="nav-item nav-level-4"><a class=nav-link href=#%E7%BB%99%E9%9D%9E%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5%E7%9A%84%E5%87%BA%E7%AB%99%E9%93%BE%E6%8E%A5%E6%B7%BB%E5%8A%A0-%E2%80%9Cnofollow%E2%80%9D-%E6%A0%87%E7%AD%BE><span class=nav-number>1.2.</span> <span class=nav-text>给非友情链接的出站链接添加 “nofollow” 标签</span></a></li></ol></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90><span class=nav-number>2.</span> <span class=nav-text>域名解析</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#RSS-%E8%AE%A2%E9%98%85><span class=nav-number>3.</span> <span class=nav-text>RSS 订阅</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86%E9%A1%B5%E9%9D%A2><span class=nav-number>4.</span> <span class=nav-text>个人简历页面</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%BF%AE%E6%94%B9%E6%96%87%E7%AB%A0%E5%86%85%E9%93%BE%E6%8E%A5%E7%9A%84%E6%A0%B7%E5%BC%8F><span class=nav-number>5.</span> <span class=nav-text>修改文章内链接的样式</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%96%87%E6%9C%AB%E6%84%9F%E8%B0%A2%E5%A4%A7%E5%AE%B6%E7%9A%84%E9%98%85%E8%AF%BB><span class=nav-number>6.</span> <span class=nav-text>文末感谢大家的阅读</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E4%BF%A1%E6%81%AF><span class=nav-number>7.</span> <span class=nav-text>文章底部添加版权信息</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#Algolia-%E6%90%9C%E7%B4%A2%E6%9C%8D%E5%8A%A1><span class=nav-number>8.</span> <span class=nav-text>Algolia 搜索服务</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#DaoVoice-%E5%AE%9E%E7%8E%B0%E5%9C%A8%E7%BA%BF%E8%81%94%E7%B3%BB><span class=nav-number>9.</span> <span class=nav-text>DaoVoice 实现在线联系</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%B7%BB%E5%8A%A0%E8%85%BE%E8%AE%AF%E7%A9%BA%E9%97%B4-404-%E5%85%AC%E7%9B%8A%E9%A1%B5%E9%9D%A2><span class=nav-number>10.</span> <span class=nav-text>添加腾讯空间 404 公益页面</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%88%A9%E7%94%A8-Gulp-%E5%8E%8B%E7%BC%A9%E4%BB%A3%E7%A0%81><span class=nav-number>11.</span> <span class=nav-text>利用 Gulp 压缩代码</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt="King Mui" src=https://cdn.kingmui.cn/avatar.jpg><p class=site-author-name itemprop=name>King Mui</p><div class=site-description itemprop=description>生命不息，学习不止</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/ ><span class=site-state-item-count>27</span> <span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/ ><span class=site-state-item-count>18</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class=links-of-author-item><span class=exturl data-url="aHR0cHM6Ly9naXRodWIuY29tL2tpbmdtdWk=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kingmui"><i class="fab fa-github-alt fa-fw"></i></span></span><span class=links-of-author-item><span class=exturl data-url=bWFpbHRvOmtpbmdtdWkuZGV2QG91dGxvb2suY29t title="E-Mail → mailto:kingmui.dev@outlook.com"><i class="fa fa-envelope fa-fw"></i></span></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-link fa-fw"></i> 友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cHM6Ly9vdmVycmVhY3RlZC5pby8=" title=https:&#x2F;&#x2F;overreacted.io&#x2F;>Dan Abramov</span></li><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cHM6Ly9qYWtlYXJjaGliYWxkLmNvbS8=" title=https:&#x2F;&#x2F;jakearchibald.com&#x2F;>Jake Archibald</span></li><li class=links-of-blogroll-item><span class=exturl data-url=aHR0cHM6Ly93d3cucnVhbnlpZmVuZy5jb20v title=https:&#x2F;&#x2F;www.ruanyifeng.com&#x2F;>阮一峰</span></li><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cHM6Ly9naXRodWIuY29tL21xeXFpbmdmZW5nL0Jsb2c=" title=https:&#x2F;&#x2F;github.com&#x2F;mqyqingfeng&#x2F;Blog>冴羽</span></li></ul></div></div></div><div class="back-to-top animated" role=button aria-label=返回顶部><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div class=sidebar-dimmer></div></header><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang=zh-CN><link itemprop=mainEntityOfPage href=http://www.kingmui.cn/2016/11/24/Hexo%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE/ ><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=https://cdn.kingmui.cn/avatar.jpg><meta itemprop=name content="King Mui"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="King Mui"><meta itemprop=description content=生命不息，学习不止></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Hexo个性化配置 | King Mui"><meta itemprop=description content></span><header class=post-header><h1 class=post-title itemprop="name headline">Hexo个性化配置</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i></span> <span class=post-meta-item-text>发表于</span> <time title="创建时间：2016-11-24 19:17:46" itemprop="dateCreated datePublished" datetime=2016-11-24T19:17:46+08:00>2016-11-24</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i></span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2022-04-15 11:43:21" itemprop=dateModified datetime=2022-04-15T11:43:21+08:00>2022-04-15</time></span><span class=post-meta-item title=阅读次数 id=busuanzi_container_page_pv><span class=post-meta-item-icon><i class="far fa-eye"></i></span> <span class=post-meta-item-text>阅读次数：</span><span id=busuanzi_value_page_pv></span></span><span class=post-meta-break></span><span class=post-meta-item title=本文字数><span class=post-meta-item-icon><i class="far fa-file-word"></i></span> <span class=post-meta-item-text>本文字数：</span> <span>12k</span></span><span class=post-meta-item title=阅读时长><span class=post-meta-item-icon><i class="far fa-clock"></i></span> <span class=post-meta-item-text>阅读时长 &asymp;</span> <span>11 分钟</span></span></div></div></header><div class=post-body itemprop=articleBody><h3 id=SEO-优化><a href=#SEO-优化 class=headerlink title="SEO 优化"></a>SEO 优化</h3><h4 id=给你的-hexo-站点添加-sitemap-网站地图><a href=#给你的-hexo-站点添加-sitemap-网站地图 class=headerlink title="给你的 hexo 站点添加 sitemap 网站地图"></a>给你的 hexo 站点添加 sitemap 网站地图</h4><ol><li>安装 hexo 的 sitemap 网站地图生成插件</li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line>npm install hexo-generator-sitemap --save</span><br><span class=line>npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><ol start=2><li>在你的 hexo 站点的 <code>_config.yml</code> 文件中添加以下代码</li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line><span class=comment># hexo sitemap网站地图</span></span><br><span class=line>sitemap:</span><br><span class=line>  path: sitemap.xml</span><br><span class=line>baidusitemap:</span><br><span class=line>  path: baidusitemap.xml</span><br></pre></td></tr></table></figure><ol start=3><li><p>配置成功后，hexo 编译时会在 hexo 站点根目录生成 <code>sitemap.xml</code> 和 <code>baidusitemap.xml</code>。<br>其中 <code>sitemap.xml</code> 适合提交给谷歌搜素引擎，<code>baidusitemap.xml</code> 适合提交百度搜索引擎。</p></li><li><p>给你的 hexo 网站添加蜘蛛协议 <code>robots.txt</code>。把 <code>robots.txt</code> 放在你的 hexo 站点的 <code>source</code> 文件下即可。代码如下：</p></li></ol><span id=more></span><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre></td><td class=code><pre><span class=line><span class=comment># hexo robots.txt</span></span><br><span class=line>User-agent: *</span><br><span class=line>Allow: /</span><br><span class=line>Allow: /archives/</span><br><span class=line></span><br><span class=line>Disallow: /vendors/</span><br><span class=line>Disallow: /js/</span><br><span class=line>Disallow: /css/</span><br><span class=line>Disallow: /fonts/</span><br><span class=line>Disallow: /vendors/</span><br><span class=line>Disallow: /fancybox/</span><br><span class=line></span><br><span class=line>Sitemap: http://www.kingmui.cn/sitemap.xml</span><br><span class=line>Sitemap: http://www.kingmui.cn/baidusitemap.xml</span><br></pre></td></tr></table></figure><ol start=5><li>主动推送 Hexo 博客新链接至百度搜索引擎<br>为了解决百度爬虫被禁止访问的问题，提升网站收录质量和速度。推荐安装 <span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL2h1aXdhbmcvaGV4by1iYWlkdS11cmwtc3VibWl0>hexo-baidu-url-submit<i class="fa fa-external-link-alt"></i></span></li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line><span class=comment># baidu_url_submit 配置</span></span><br><span class=line>baidu_url_submit:</span><br><span class=line>  count: 1000 <span class=comment>## 提交最新的一个链接</span></span><br><span class=line>  host: alili.tech <span class=comment>## 在百度站长平台中注册的域名</span></span><br><span class=line>  token: xxxxx <span class=comment>## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span></span><br><span class=line>  path: baidu_urls.txt <span class=comment>## 文本文档的地址， 新链接会保存在此文本文档里</span></span><br><span class=line>  xz_appid: <span class=string>&#x27;xxxxxx&#x27;</span> <span class=comment>## 你的熊掌号 appid</span></span><br><span class=line>  xz_token: <span class=string>&#x27;xxxxxx&#x27;</span> <span class=comment>## 你的熊掌号 token</span></span><br><span class=line>  xz_count: 10 <span class=comment>## 从所有的提交的数据当中选取最新的10条,该数量跟你的熊掌号而定</span></span><br><span class=line><span class=comment># deploy 配置</span></span><br><span class=line>deploy:</span><br><span class=line>- <span class=built_in>type</span>: baidu_url_submitter <span class=comment># 百度</span></span><br><span class=line>- <span class=built_in>type</span>: baidu_xz_url_submitter <span class=comment># 百度熊掌号</span></span><br></pre></td></tr></table></figure><h4 id=给非友情链接的出站链接添加-“nofollow”-标签><a href=#给非友情链接的出站链接添加-“nofollow”-标签 class=headerlink title="给非友情链接的出站链接添加 “nofollow” 标签"></a>给非友情链接的出站链接添加 “nofollow” 标签</h4><p>经过 chinaz 站长工具友情链接检测，发现有不必要的 PR 值输出，对于非友情链接的 PR 值输出，我们可以加上 nofollow 便签避免不必要的 PR 输出。这里推荐使用 <span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL2xpdXpjL2hleG8tYXV0b25vZm9sbG93>hexo-autonofollow<i class="fa fa-external-link-alt"></i></span>，它会自动将 nofollow 属性添加到 hexo 博客文章中的所有外部链接。 配置如下：</p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line>nofollow:</span><br><span class=line>  <span class=built_in>enable</span>: <span class=literal>true</span></span><br><span class=line>  exclude:</span><br><span class=line>    - kingmui.cn</span><br></pre></td></tr></table></figure><h3 id=域名解析><a href=#域名解析 class=headerlink title=域名解析></a>域名解析</h3><p>由于 Github Pages 是有限制的，它不允许任意域名都跳转过来，而是只限制一个域名，而且这个域名必须声明在 CNAME 文件中。所以，我们需要添加一个 CNAME 文件到项目的 master 中才行。我们使用 <span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL2xlZWNyb3NzbGV5L2hleG8tZ2VuZXJhdG9yLWNuYW1l>hexo-generator-cname<i class="fa fa-external-link-alt"></i></span> 来自动在 public 里生成一个 CNAME 文件！</p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line><span class=comment># 注意：只需安装即可，不要在 _config.yml 启用</span></span><br><span class=line>npm install hexo-generator-cname --save</span><br></pre></td></tr></table></figure><h3 id=RSS-订阅><a href=#RSS-订阅 class=headerlink title="RSS 订阅"></a>RSS 订阅</h3><p>目前很多人喜欢用 RSS 阅读器来实时更新某些作者的文章。这里我们利用插件 <span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvLWdlbmVyYXRvci1mZWVk>hexo-generator-feed<i class="fa fa-external-link-alt"></i></span> 来实现这个功能。</p><ol><li>安装</li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>npm install hexo-generator-feed –save</span><br></pre></td></tr></table></figure><ol start=2><li>修改 <code>_config.yml</code>，具体设置可以参考官方链接里的指示</li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre></td><td class=code><pre><span class=line>feed:</span><br><span class=line>  <span class=built_in>type</span>: atom</span><br><span class=line>  path: atom.xml</span><br><span class=line>  <span class=built_in>limit</span>: 20</span><br><span class=line>  hub:</span><br><span class=line>  content:</span><br><span class=line>  content_limit: 140</span><br><span class=line>  content_limit_delim: <span class=string>&#x27; &#x27;</span></span><br><span class=line>  order_by: -date</span><br></pre></td></tr></table></figure><ol start=3><li>在 themes/next/_config.yml 里的 menu 添加 <code>rss: /atom.xml</code></li><li>在 themes/next/languages/zh-CN.yml 里的 <code>menu</code> 添加中文翻译 <code>rss: RSS</code></li></ol><h3 id=个人简历页面><a href=#个人简历页面 class=headerlink title=个人简历页面></a>个人简历页面</h3><p>对于一个优秀的博主而言，每天会有很多开发者进入到他的博客。<br>而无论出于职业生涯还是个人影响力的角度考虑，在博客里放置个人简历是一个很好的展示自己的机会。<br>下面我们来利用 hexo 的 page 功能来创建一个新页面，然后用 markdown 来填充这个简历页面。</p><ol><li>利用 <code>hexo new page &quot;resume&quot;</code>，可以看到 <code>source</code> 文件夹下出现了 <code>resume</code> 目录，里面有一个 <code>index.md</code> 文件；</li><li>在 <code>themes/next/_config.yml</code> 里的 <code>menu:</code> 下添加 <code>resume: /resume</code>，它会在首页创建一个新的 menu: resume 入口；</li><li>在 <code>index.md</code> 文件里填写自己的简历即可。</li></ol><h3 id=修改文章内链接的样式><a href=#修改文章内链接的样式 class=headerlink title=修改文章内链接的样式></a>修改文章内链接的样式</h3><p>修改路径：<code>themes/next/sources/css/_common/components/post/post.styl</code></p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre></td><td class=code><pre><span class=line>.exturl &#123;</span><br><span class=line>  color: #0593d3;</span><br><span class=line>  border-bottom: none;</span><br><span class=line>  border-bottom: 1px solid #0593d3;</span><br><span class=line>  &amp;:hover &#123;</span><br><span class=line>    color: #fc6423;</span><br><span class=line>    border-bottom: none;</span><br><span class=line>    border-bottom: 1px solid #fc6423;</span><br><span class=line>  &#125;</span><br><span class=line>  .fa &#123;</span><br><span class=line>    font-size: $font-size-small;</span><br><span class=line>    margin-left: 4px;</span><br><span class=line>  &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><h3 id=文末感谢大家的阅读><a href=#文末感谢大家的阅读 class=headerlink title=文末感谢大家的阅读></a>文末感谢大家的阅读</h3><ol><li>添加如下配置到 <code>themes/next/_config.yml</code></li></ol><figure class="highlight yml"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class=comment># 文章末尾添加 &quot;本文结束&quot; 标记</span></span><br><span class=line><span class=attr>post_end_tag:</span></span><br><span class=line>  <span class=attr>enabled:</span> <span class=literal>true</span></span><br></pre></td></tr></table></figure><ol start=2><li>在 <code>themes/next/layout/_partials/post</code> 下新建文件 <code>post-end-tag.swig</code>，并且添加如下内容：</li></ol><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>style</span>=<span class=string>&quot;text-align:center; color: #ccc; font-size:14px; padding: 10px 0&quot;</span>&gt;</span>-------------本文结束 <span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>&quot;fa fa-paw&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span> 感谢您的阅读-------------<span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start=3><li>添加到 <code>themes/next/lauyout/_macro/post.swig</code> 文件中</li></ol><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line><span class=comment>&lt;!-- 在 END POST BODY 下面添加如下代码 --&gt;</span></span><br><span class=line>&#123;%- if theme.post_end_tag.enabled and not is_index %&#125;</span><br><span class=line>  &#123;&#123; partial(&#x27;_partials/post/post-end-tag.swig&#x27;) &#125;&#125;</span><br><span class=line>&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><h3 id=文章底部添加版权信息><a href=#文章底部添加版权信息 class=headerlink title=文章底部添加版权信息></a>文章底部添加版权信息</h3><ol><li>在 <code>themes/next/layout/_macro</code> 目录下新建文件 <code>my-copyright.swig</code>，内容如下：</li></ol><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br></pre></td><td class=code><pre><span class=line>&#123;% if page.copyright %&#125;</span><br><span class=line><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>&quot;my_post_copyright&quot;</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>script</span> <span class=attr>src</span>=<span class=string>&quot;//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>script</span> <span class=attr>src</span>=<span class=string>&quot;/lib/jquery/index.js?v=2.1.3&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>script</span> <span class=attr>src</span>=<span class=string>&quot;https://unpkg.com/sweetalert/dist/sweetalert.min.js&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>p</span>&gt;</span><span class=tag>&lt;<span class=name>span</span>&gt;</span>本文标题:<span class=tag>&lt;/<span class=name>span</span>&gt;</span><span class=tag>&lt;<span class=name>a</span> <span class=attr>href</span>=<span class=string>&quot;&#123;&#123; url_for(page.path) &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; page.title &#125;&#125;<span class=tag>&lt;/<span class=name>a</span>&gt;</span><span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>p</span>&gt;</span><span class=tag>&lt;<span class=name>span</span>&gt;</span>文章作者:<span class=tag>&lt;/<span class=name>span</span>&gt;</span><span class=tag>&lt;<span class=name>a</span> <span class=attr>href</span>=<span class=string>&quot;/&quot;</span> <span class=attr>title</span>=<span class=string>&quot;访问 &#123;&#123; theme.author &#125;&#125; 的个人博客&quot;</span>&gt;</span>&#123;&#123; theme.author &#125;&#125;<span class=tag>&lt;/<span class=name>a</span>&gt;</span><span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>p</span>&gt;</span><span class=tag>&lt;<span class=name>span</span>&gt;</span>发布时间:<span class=tag>&lt;/<span class=name>span</span>&gt;</span>&#123;&#123; page.date.format(&quot;YYYY年MM月DD日 - HH:MM&quot;) &#125;&#125;<span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>p</span>&gt;</span><span class=tag>&lt;<span class=name>span</span>&gt;</span>最后更新:<span class=tag>&lt;/<span class=name>span</span>&gt;</span>&#123;&#123; page.updated.format(&quot;YYYY年MM月DD日 - HH:MM&quot;) &#125;&#125;<span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>p</span>&gt;</span><span class=tag>&lt;<span class=name>span</span>&gt;</span>原始链接:<span class=tag>&lt;/<span class=name>span</span>&gt;</span><span class=tag>&lt;<span class=name>a</span> <span class=attr>href</span>=<span class=string>&quot;&#123;&#123; url_for(page.path) &#125;&#125;&quot;</span> <span class=attr>title</span>=<span class=string>&quot;&#123;&#123; page.title &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; page.permalink &#125;&#125;<span class=tag>&lt;/<span class=name>a</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>span</span> <span class=attr>class</span>=<span class=string>&quot;copy-path&quot;</span>  <span class=attr>title</span>=<span class=string>&quot;点击复制文章链接&quot;</span>&gt;</span><span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>&quot;fa fa-clipboard&quot;</span> <span class=attr>data-clipboard-text</span>=<span class=string>&quot;&#123;&#123; page.permalink &#125;&#125;&quot;</span>  <span class=attr>aria-label</span>=<span class=string>&quot;复制成功！&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span><span class=tag>&lt;/<span class=name>span</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>p</span>&gt;</span><span class=tag>&lt;<span class=name>span</span>&gt;</span>许可协议:<span class=tag>&lt;/<span class=name>span</span>&gt;</span><span class=tag>&lt;<span class=name>i</span> <span class=attr>class</span>=<span class=string>&quot;fa fa-creative-commons&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>i</span>&gt;</span> <span class=tag>&lt;<span class=name>a</span> <span class=attr>rel</span>=<span class=string>&quot;license&quot;</span> <span class=attr>href</span>=<span class=string>&quot;https://creativecommons.org/licenses/by-nc-nd/4.0/&quot;</span> <span class=attr>target</span>=<span class=string>&quot;_blank&quot;</span> <span class=attr>title</span>=<span class=string>&quot;Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)&quot;</span>&gt;</span>署名-非商业性使用-禁止演绎 4.0 国际<span class=tag>&lt;/<span class=name>a</span>&gt;</span> 转载请保留原文链接及作者。<span class=tag>&lt;/<span class=name>p</span>&gt;</span></span><br><span class=line><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>script</span>&gt;</span><span class=javascript></span></span><br><span class=line><span class=javascript>  <span class=keyword>var</span> clipboard = <span class=keyword>new</span> Clipboard(<span class=string>&#x27;.fa-clipboard&#x27;</span>);</span></span><br><span class=line><span class=javascript>  $(<span class=string>&#x27;.fa-clipboard&#x27;</span>).click(<span class=function><span class=keyword>function</span>(<span class=params></span>)</span>&#123;</span></span><br><span class=line><span class=javascript>  clipboard.on(<span class=string>&#x27;success&#x27;</span>, <span class=function><span class=keyword>function</span>(<span class=params></span>)</span>&#123;</span></span><br><span class=line><span class=javascript>    swal(&#123;</span></span><br><span class=line><span class=javascript>      <span class=attr>title</span>: <span class=string>&quot;&quot;</span>,</span></span><br><span class=line><span class=javascript>      <span class=attr>text</span>: <span class=string>&#x27;复制成功&#x27;</span>,</span></span><br><span class=line><span class=javascript>      <span class=attr>icon</span>: <span class=string>&quot;success&quot;</span>,</span></span><br><span class=line><span class=javascript>      <span class=attr>showConfirmButton</span>: <span class=literal>true</span></span></span><br><span class=line><span class=javascript>      &#125;);</span></span><br><span class=line><span class=javascript>    &#125;);</span></span><br><span class=line><span class=javascript>  &#125;);</span></span><br><span class=line><span class=javascript></span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><ol start=2><li>在 <code>themes/next/source/css/_common/components/post/</code> 新建文件 <code>my-post-copyright.styl</code></li></ol><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br></pre></td><td class=code><pre><span class=line>.my_post_copyright &#123;</span><br><span class=line>  width: 85%;</span><br><span class=line>  max-width: 45em;</span><br><span class=line>  margin: 2.8em auto 0;</span><br><span class=line>  padding: 0.5em 1.0em;</span><br><span class=line>  border: 1px solid #d3d3d3;</span><br><span class=line>  font-size: 0.93rem;</span><br><span class=line>  line-height: 1.6em;</span><br><span class=line>  word-break: break-all;</span><br><span class=line>  background: rgba(255,255,255,0.4);</span><br><span class=line>&#125;</span><br><span class=line>.my_post_copyright p&#123;margin:0;&#125;</span><br><span class=line>.my_post_copyright span &#123;</span><br><span class=line>  display: inline-block;</span><br><span class=line>  width: 5.2em;</span><br><span class=line>  color: #b5b5b5;</span><br><span class=line>  font-weight: bold;</span><br><span class=line>&#125;</span><br><span class=line>.my_post_copyright .raw &#123;</span><br><span class=line>  margin-left: 1em;</span><br><span class=line>  width: 5em;</span><br><span class=line>&#125;</span><br><span class=line>.my_post_copyright a &#123;</span><br><span class=line>  color: #808080;</span><br><span class=line>  border-bottom:0;</span><br><span class=line>&#125;</span><br><span class=line>.my_post_copyright a:hover &#123;</span><br><span class=line>  color: #a3d2a3;</span><br><span class=line>  text-decoration: underline;</span><br><span class=line>&#125;</span><br><span class=line>.my_post_copyright:hover .fa-clipboard &#123;</span><br><span class=line>  color: #000;</span><br><span class=line>&#125;</span><br><span class=line>.my_post_copyright .post-url:hover &#123;</span><br><span class=line>  font-weight: normal;</span><br><span class=line>&#125;</span><br><span class=line>.my_post_copyright .copy-path &#123;</span><br><span class=line>  margin-left: 1em;</span><br><span class=line>  width: 1em;</span><br><span class=line>  +mobile()&#123;display:none;&#125;</span><br><span class=line>&#125;</span><br><span class=line>.my_post_copyright .copy-path:hover &#123;</span><br><span class=line>  color: #808080;</span><br><span class=line>  cursor: pointer;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><ol start=3><li>修改 <code>next/layout/_macro/post.swig</code> 文件，添加如下代码：</li></ol><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>&#123;% if not is_index %&#125;</span><br><span class=line><span class=tag>&lt;<span class=name>div</span>&gt;</span>&#123;% include &#x27;my-copyright.swig&#x27; %&#125;<span class=tag>&lt;/<span class=name>div</span>&gt;</span></span><br><span class=line>&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><ol start=4><li>修改 <code>next/sources/css/_common/components/post/post.styl</code> 文件，添加如下代码：</li></ol><figure class="highlight css"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>@import</span> <span class=string>&#x27;my-post-copyright&#x27;</span>;</span><br></pre></td></tr></table></figure><ol start=5><li>若文章需要版权声明可添加 <code>copyright: true</code>。</li></ol><h3 id=Algolia-搜索服务><a href=#Algolia-搜索服务 class=headerlink title="Algolia 搜索服务"></a>Algolia 搜索服务</h3><ol><li><p>前往 <span class=exturl data-url=aHR0cHM6Ly93d3cuYWxnb2xpYS5jb20v>Algolia 注册页面<i class="fa fa-external-link-alt"></i></span>，注册一个新账户。 可以使用 GitHub 或者 Google 账户直接登录，注册后的 14 天内拥有所有功能（包括收费类别的）。之后若未续费会自动降级为免费账户，免费账户 总共有 10,000 条记录，每月有 100,000 的可以操作数。注册完成后，创建一个新的 Index，这个 Index 将在后面使用。</p></li><li><p>Index 创建完成后，此时这个 Index 里未包含任何数据。 接下来需要安装 Hexo Algolia 扩展， 这个扩展的功能是搜集站点的内容并通过 API 发送给 Algolia。前往站点根目录，执行命令安装：</p></li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>npm install --save hexo-algolia</span><br></pre></td></tr></table></figure><ol start=3><li>在 Algolia 服务站点上找到需要使用的一些配置的值，包括 ApplicationID、Search-Only API Key、 Admin API Key。注意，Admin API Key 需要保密保存。点击 ALL API KEYS 找到新建 INDEX 对应的 key， 编辑权限，在弹出框中找到 ACL 选择勾选 Add records, Delete records, List indices, Delete index 权限，点击 update 更新。</li></ol><p>编辑 <code>站点配置文件</code>，新增以下配置：</p><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line><span class=comment># 替换除了 chunkSize 以外的其他字段为在 Algolia 获取到的值。</span></span><br><span class=line>algolia:</span><br><span class=line>  applicationID: <span class=string>&#x27;applicationID&#x27;</span></span><br><span class=line>  indexName: <span class=string>&#x27;indexName&#x27;</span></span><br><span class=line>  chunkSize: 5000</span><br></pre></td></tr></table></figure><ol start=4><li>当配置完成，在站点根目录下执行</li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class=built_in>export</span>(windows 为 <span class=built_in>set</span>) HEXO_ALGOLIA_INDEXING_KEY=Search-Only API key</span><br><span class=line>hexo clean</span><br><span class=line>hexo algolia</span><br></pre></td></tr></table></figure><p>来更新 Index。请注意观察命令的输出。</p><ol start=5><li>更改主题配置文件，找到 Algolia Search 配置部分：</li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre></td><td class=code><pre><span class=line><span class=comment># Algolia Search</span></span><br><span class=line>algolia_search:</span><br><span class=line>  <span class=built_in>enable</span>: <span class=literal>true</span></span><br><span class=line>  hits:</span><br><span class=line>    per_page: 10</span><br><span class=line>  labels:</span><br><span class=line>    input_placeholder: Search <span class=keyword>for</span> Posts</span><br><span class=line>    hits_empty: <span class=string>&quot;We didn&#x27;t find any results for the search: <span class=variable>$&#123;query&#125;</span>&quot;</span></span><br><span class=line>    hits_stats: <span class=string>&quot;<span class=variable>$&#123;hits&#125;</span> results found in <span class=variable>$&#123;time&#125;</span> ms&quot;</span></span><br></pre></td></tr></table></figure><h3 id=DaoVoice-实现在线联系><a href=#DaoVoice-实现在线联系 class=headerlink title="DaoVoice 实现在线联系"></a>DaoVoice 实现在线联系</h3><ol><li><span class=exturl data-url="aHR0cDovL2Rhc2hib2FyZC5kYW92b2ljZS5pby9nZXQtc3RhcnRlZD9pbnZpdGVfY29kZT0yNTZjYzhiZA==">注册登录<i class="fa fa-external-link-alt"></i></span>填写邀请码（256cc8bd）。<br>完成注册后，修改 <code>themes/next/layout/_partials/head.swig</code> 添加下面的代码:</li></ol><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br></pre></td><td class=code><pre><span class=line>&#123;% if theme.daovoice %&#125;</span><br><span class=line><span class=tag>&lt;<span class=name>script</span>&gt;</span><span class=javascript></span></span><br><span class=line><span class=javascript>  (<span class=function><span class=keyword>function</span>(<span class=params>i, s, o, g, r, a, m</span>) </span>&#123;</span></span><br><span class=line><span class=javascript>    i[<span class=string>&#x27;DaoVoiceObject&#x27;</span>] = r;</span></span><br><span class=line><span class=javascript>    (i[r] =</span></span><br><span class=line><span class=javascript>      i[r] ||</span></span><br><span class=line><span class=javascript>      <span class=function><span class=keyword>function</span>(<span class=params></span>) </span>&#123;</span></span><br><span class=line><span class=javascript>        (i[r].q = i[r].q || []).push(<span class=built_in>arguments</span>);</span></span><br><span class=line><span class=javascript>      &#125;),</span></span><br><span class=line><span class=javascript>      (i[r].l = <span class=number>1</span> * <span class=keyword>new</span> <span class=built_in>Date</span>());</span></span><br><span class=line><span class=javascript>    (a = s.createElement(o)), (m = s.getElementsByTagName(o)[<span class=number>0</span>]);</span></span><br><span class=line><span class=javascript>    a.async = <span class=number>1</span>;</span></span><br><span class=line><span class=javascript>    a.src = g;</span></span><br><span class=line><span class=javascript>    a.charset = <span class=string>&#x27;utf-8&#x27;</span>;</span></span><br><span class=line><span class=javascript>    m.parentNode.insertBefore(a, m);</span></span><br><span class=line><span class=javascript>  &#125;)(<span class=built_in>window</span>, <span class=built_in>document</span>, <span class=string>&#x27;script&#x27;</span>, (<span class=string>&#x27;https:&#x27;</span> == <span class=built_in>document</span>.location.protocol ? <span class=string>&#x27;https:&#x27;</span> : <span class=string>&#x27;http:&#x27;</span>) + <span class=string>&#x27;//widget.daovoice.io/widget/&#123;&#123;theme.daovoice_app_id&#125;&#125;.js&#x27;</span>, <span class=string>&#x27;daovoice&#x27;</span>);</span></span><br><span class=line><span class=javascript>  daovoice(<span class=string>&#x27;init&#x27;</span>, &#123;</span></span><br><span class=line><span class=javascript>    <span class=attr>app_id</span>: <span class=string>&#x27;&#123;&#123;theme.daovoice_app_id&#125;&#125;&#x27;</span></span></span><br><span class=line><span class=javascript>  &#125;);</span></span><br><span class=line><span class=javascript>  daovoice(<span class=string>&#x27;update&#x27;</span>);</span></span><br><span class=line><span class=javascript></span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><ol start=2><li>修改主题的配置文件</li></ol><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class=comment># Online contact</span></span><br><span class=line>daovoice: <span class=literal>true</span></span><br><span class=line>daovoice_app_id: 我们注册获取的id</span><br></pre></td></tr></table></figure><h3 id=添加腾讯空间-404-公益页面><a href=#添加腾讯空间-404-公益页面 class=headerlink title="添加腾讯空间 404 公益页面"></a>添加腾讯空间 404 公益页面</h3><p>新建 <code>404.html</code> 页面，将下面代码拷进去保存，放到主题的 <code>source</code> 目录下即可：</p><figure class="highlight html"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br></pre></td><td class=code><pre><span class=line><span class=meta>&lt;!DOCTYPE <span class=meta-keyword>html</span>&gt;</span></span><br><span class=line><span class=tag>&lt;<span class=name>html</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>head</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>title</span>&gt;</span>404公益页面-宝贝回家志愿者协会-King Mui<span class=tag>&lt;/<span class=name>title</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>meta</span> <span class=attr>http-equiv</span>=<span class=string>&quot;content-type&quot;</span> <span class=attr>content</span>=<span class=string>&quot;text/html;charset=utf-8;&quot;</span> /&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>meta</span> <span class=attr>http-equiv</span>=<span class=string>&quot;X-UA-Compatible&quot;</span> <span class=attr>content</span>=<span class=string>&quot;IE=edge,chrome=1&quot;</span> /&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>meta</span> <span class=attr>name</span>=<span class=string>&quot;robots&quot;</span> <span class=attr>content</span>=<span class=string>&quot;all&quot;</span> /&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>meta</span> <span class=attr>name</span>=<span class=string>&quot;robots&quot;</span> <span class=attr>content</span>=<span class=string>&quot;index,follow&quot;</span> /&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>&quot;apple-touch-icon&quot;</span> <span class=attr>sizes</span>=<span class=string>&quot;180x180&quot;</span> <span class=attr>href</span>=<span class=string>&quot;https://cdn.kingmui.cn/avatar.jpg?v=6.5.0&quot;</span> /&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>&quot;icon&quot;</span> <span class=attr>type</span>=<span class=string>&quot;image/png&quot;</span> <span class=attr>sizes</span>=<span class=string>&quot;32x32&quot;</span> <span class=attr>href</span>=<span class=string>&quot;https://cdn.kingmui.cn/avatar.jpg?v=6.5.0&quot;</span> /&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>&quot;icon&quot;</span> <span class=attr>type</span>=<span class=string>&quot;image/png&quot;</span> <span class=attr>sizes</span>=<span class=string>&quot;16x16&quot;</span> <span class=attr>href</span>=<span class=string>&quot;https://cdn.kingmui.cn/avatar.jpg?v=6.5.0&quot;</span> /&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>link</span> <span class=attr>rel</span>=<span class=string>&quot;stylesheet&quot;</span> <span class=attr>type</span>=<span class=string>&quot;text/css&quot;</span> <span class=attr>href</span>=<span class=string>&quot;https://qzone.qq.com/gy/404/style/404style.css&quot;</span> /&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>style</span>&gt;</span><span class=css></span></span><br><span class=line><span class=css>      <span class=selector-class>.mod_404</span> <span class=selector-class>.desc</span> <span class=selector-class>.desc_link</span> &#123;</span></span><br><span class=line><span class=css>        <span class=attribute>text-decoration</span>: none <span class=meta>!important</span>;</span></span><br><span class=line><span class=css>        <span class=attribute>color</span>: <span class=number>#4599ff</span>;</span></span><br><span class=line><span class=css>      &#125;</span></span><br><span class=line><span class=css>      <span class=selector-class>.mod_404</span> <span class=selector-class>.desc</span> <span class=selector-class>.desc_link</span><span class=selector-pseudo>:hover</span> &#123;</span></span><br><span class=line><span class=css>        <span class=attribute>color</span>: <span class=number>#2e8cff</span>;</span></span><br><span class=line><span class=css>      &#125;</span></span><br><span class=line><span class=css>    </span><span class=tag>&lt;/<span class=name>style</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;/<span class=name>head</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;<span class=name>body</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>script</span> <span class=attr>type</span>=<span class=string>&quot;text/plain&quot;</span> <span class=attr>src</span>=<span class=string>&quot;https://www.qq.com/404/search_children.js&quot;</span> <span class=attr>charset</span>=<span class=string>&quot;utf-8&quot;</span> <span class=attr>homePageUrl</span>=<span class=string>&quot;/&quot;</span> <span class=attr>homePageName</span>=<span class=string>&quot;回到我的主页&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>script</span> <span class=attr>src</span>=<span class=string>&quot;https://qzone.qq.com/gy/404/data.js&quot;</span> <span class=attr>charset</span>=<span class=string>&quot;utf-8&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>    <span class=tag>&lt;<span class=name>script</span> <span class=attr>src</span>=<span class=string>&quot;https://qzone.qq.com/gy/404/page.js&quot;</span> <span class=attr>charset</span>=<span class=string>&quot;utf-8&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span><br><span class=line>  <span class=tag>&lt;/<span class=name>body</span>&gt;</span></span><br><span class=line><span class=tag>&lt;/<span class=name>html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id=利用-Gulp-压缩代码><a href=#利用-Gulp-压缩代码 class=headerlink title="利用 Gulp 压缩代码"></a>利用 Gulp 压缩代码</h3><figure class="highlight javascript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>let</span> gulp = <span class=built_in>require</span>(<span class=string>&#x27;gulp&#x27;</span>),</span><br><span class=line>  imageminPngquant = <span class=built_in>require</span>(<span class=string>&#x27;imagemin-pngquant&#x27;</span>),</span><br><span class=line>  $ = <span class=built_in>require</span>(<span class=string>&#x27;gulp-load-plugins&#x27;</span>)();</span><br><span class=line></span><br><span class=line><span class=comment>// 压缩 html</span></span><br><span class=line>gulp.task(<span class=string>&#x27;html&#x27;</span>, <span class=function><span class=keyword>function</span>(<span class=params></span>) </span>&#123;</span><br><span class=line>  <span class=keyword>return</span> gulp</span><br><span class=line>    .src(<span class=string>&#x27;./public/**/*.html&#x27;</span>)</span><br><span class=line>    .pipe($.htmlclean())</span><br><span class=line>    .pipe(</span><br><span class=line>      $.htmlmin(&#123;</span><br><span class=line>        <span class=attr>collapseWhitespace</span>: <span class=literal>true</span>, <span class=comment>// 折叠有助于文档树中文本节点的空白区域</span></span><br><span class=line>        <span class=attr>minifyCSS</span>: <span class=literal>true</span>,</span><br><span class=line>        <span class=attr>minifyJS</span>: <span class=literal>true</span>,</span><br><span class=line>        <span class=attr>minifyURLs</span>: <span class=literal>true</span>, <span class=comment>// 使用 relatedurl 压缩各种属性中的 URL</span></span><br><span class=line>        <span class=attr>keepClosingSlash</span>: <span class=literal>true</span>, <span class=comment>// 单标签保留尾部斜杠</span></span><br><span class=line>        <span class=attr>removeAttributeQuotes</span>: <span class=literal>true</span>, <span class=comment>// 尽可能删除属性周围的引号</span></span><br><span class=line>        <span class=attr>removeEmptyAttributes</span>: <span class=literal>true</span>, <span class=comment>// 删除所有空格作属性值</span></span><br><span class=line>        <span class=attr>removeComments</span>: <span class=literal>true</span>, <span class=comment>// 清除HTML注释</span></span><br><span class=line>        <span class=attr>removeScriptTypeAttributes</span>: <span class=literal>true</span>,</span><br><span class=line>        <span class=attr>removeStyleLinkTypeAttributes</span>: <span class=literal>true</span>,</span><br><span class=line>        <span class=attr>useShortDoctype</span>: <span class=literal>true</span></span><br><span class=line>      &#125;)</span><br><span class=line>    )</span><br><span class=line>    .pipe(gulp.dest(<span class=string>&#x27;./public&#x27;</span>));</span><br><span class=line>&#125;);</span><br><span class=line></span><br><span class=line><span class=comment>// 压缩图片</span></span><br><span class=line>gulp.task(<span class=string>&#x27;image&#x27;</span>, <span class=function>() =&gt;</span> &#123;</span><br><span class=line>  <span class=keyword>return</span> gulp</span><br><span class=line>    .src(<span class=string>&#x27;./public/images/*&#x27;</span>)</span><br><span class=line>    .pipe(</span><br><span class=line>      $.cache(</span><br><span class=line>        $.imagemin(&#123;</span><br><span class=line>          <span class=attr>interlaced</span>: <span class=literal>true</span>,</span><br><span class=line>          <span class=attr>progressive</span>: <span class=literal>true</span>,</span><br><span class=line>          <span class=attr>optimizationLevel</span>: <span class=number>5</span>,</span><br><span class=line>          <span class=attr>svgoPlugins</span>: [&#123; <span class=attr>removeViewBox</span>: <span class=literal>true</span> &#125;],</span><br><span class=line>          <span class=comment>// 使用pngquant深度压缩png图片的imagemin插件</span></span><br><span class=line>          <span class=attr>use</span>: [imageminPngquant()]</span><br><span class=line>        &#125;)</span><br><span class=line>      )</span><br><span class=line>    )</span><br><span class=line>    .pipe(gulp.dest(<span class=string>&#x27;./public/images/&#x27;</span>));</span><br><span class=line>&#125;);</span><br><span class=line></span><br><span class=line><span class=comment>// 清除缓存</span></span><br><span class=line>gulp.task(<span class=string>&#x27;clearCache&#x27;</span>, <span class=function>() =&gt;</span> $.cache.clearAll());</span><br><span class=line></span><br><span class=line><span class=comment>// 压缩 css</span></span><br><span class=line><span class=comment>// gulp.task(&#x27;css&#x27;, function() &#123;</span></span><br><span class=line><span class=comment>//     return gulp.src(&#x27;./public/**/*.css&#x27;)</span></span><br><span class=line><span class=comment>//         .pipe($.cleanCss(&#123;compatibility: &#x27;ie8&#x27;, debug: true&#125;, (details) =&gt; &#123;</span></span><br><span class=line><span class=comment>//             console.log(`$&#123;details.name&#125;: $&#123;details.stats.originalSize&#125;`);</span></span><br><span class=line><span class=comment>//             console.log(`$&#123;details.name&#125;: $&#123;details.stats.minifiedSize&#125;`);</span></span><br><span class=line><span class=comment>//           &#125;))</span></span><br><span class=line><span class=comment>//         .pipe(gulp.dest(&#x27;./public&#x27;));</span></span><br><span class=line><span class=comment>// &#125;);</span></span><br><span class=line></span><br><span class=line><span class=comment>// 压缩 js</span></span><br><span class=line><span class=comment>// gulp.task(&#x27;js&#x27;, function() &#123;</span></span><br><span class=line><span class=comment>//     return gulp.src(&#x27;./public/**/*.js&#x27;)</span></span><br><span class=line><span class=comment>//         .pipe($.uglify())</span></span><br><span class=line><span class=comment>//         .pipe(gulp.dest(&#x27;./public&#x27;));</span></span><br><span class=line><span class=comment>// &#125;);</span></span><br><span class=line></span><br><span class=line><span class=comment>// 执行 gulp 命令时执行的任务</span></span><br><span class=line>gulp.task(<span class=string>&#x27;default&#x27;</span>, [<span class=string>&#x27;html&#x27;</span>]);</span><br></pre></td></tr></table></figure></div><footer class=post-footer><div class=post-tags><a href=/tags/Hexo/ rel=tag><i class="fa fa-tag"></i> Hexo</a></div><div class=post-nav><div class=post-nav-item></div><div class=post-nav-item><a href=/2017/10/28/%E4%BD%BF%E7%94%A8CSS3%E5%8A%A8%E7%94%BB%E5%B1%9E%E6%80%A7%E5%AE%9E%E7%8E%B0%E5%A4%AA%E9%98%B3%E7%B3%BB%E8%A1%8C%E6%98%9F%E8%BF%90%E8%BD%AC%E6%A8%A1%E6%8B%9F%E5%8A%A8%E7%94%BB/ rel=next title=使用CSS3动画属性实现太阳系行星运转模拟动画>使用CSS3动画属性实现太阳系行星运转模拟动画<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class=comments id=disqus_thread><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></main><footer class=footer><div class=footer-inner><div class=beian><span class=exturl data-url="aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==">浙ICP备18010341号-1</span></div><div class=copyright>&copy; <span itemprop=copyrightYear>2023</span><span class=with-love><i class="fa fa-heart"></i></span> <span class=author itemprop=copyrightHolder>KINGMUI</span></div><div class=wordcount><span class=post-meta-item><span class=post-meta-item-icon><i class="fa fa-chart-line"></i></span> <span title=站点总字数>157k</span></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fa fa-coffee"></i></span> <span title=站点阅读时长>2:22</span></span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv><span class=post-meta-item-icon><i class="fa fa-user"></i></span><span class=site-uv title=总访客量><span id=busuanzi_value_site_uv></span></span></span><span class=post-meta-item id=busuanzi_container_site_pv><span class=post-meta-item-icon><i class="fa fa-eye"></i></span><span class=site-pv title=总访问量><span id=busuanzi_value_site_pv></span></span></span></div></div></footer><script size=300 alpha=0.6 zindex=-1 src=https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js></script><script src=https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin=anonymous></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/next-boot.js></script><script src=https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin=anonymous></script><script src=/js/third-party/search/local-search.js></script><script src=//code.tidio.co/2mlfx8hyeje2cy9cft6rpturddkkzkon.js></script><script src=/js/third-party/chat/tidio.js></script><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script class=next-config data-name=disqus type=application/json>{"enable":true,"shortname":"kingmui","count":false,"i18n":{"disqus":"disqus"}}</script><script src=/js/third-party/comments/disqus.js></script></body></html>